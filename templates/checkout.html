<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Check Out | Durable Furniture</title>
  <link rel="icon" href="static/Resources/Img/header-footer-img/Logo.png" type="image/x-icon">
  <link rel="stylesheet" href="static/css/header-footer-min.css">
  <link rel="stylesheet" href="static/css/home-page-media-min.css">
  <link rel="stylesheet" href="static/css/checkout-vinh-min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

</head>

<body>
  <div class="vinh-container">
    <div class="vinh-free-shipping-container">
      <div class="vinh-free-shipping-wrap">
        <div class="vinh-free-shipping-item">
          <span class="vinh-free-shipping-emp">free-shipping</span> for orders above $100!!!
        </div>
        <div class="vinh-free-shipping-item">
          <span class="vinh-free-shipping-emp">free-shipping</span> on your first order!!!
        </div>
        <div class="vinh-free-shipping-item">
          <span class="vinh-free-shipping-emp">call us</span> for more information 043-235-2561
        </div>
      </div>
      <div class="vinh-find-store">
        <a href="/find_store" style="color: white;">Find a store</a> <i class="bi bi-geo-alt"></i>
      </div>
    </div>
    <header>
      <div class="vinh-header-wrap" id="navbar">
        <div class="vinh-inner-container">
          <div class="vinh-sub-menu">
            <i id="myIcon" onclick="subMenuFunction()" class="bi bi-list" style="font-size: 150%;"></i>
          </div>
          <a href="/home"><img class="vinh-logo"
              src="static/Resources/Img/header-footer-img/Dark Slate Grey Star Icon Business Logo web.png"></a>
        </div>
        <div class="vinh-inner-container vinh-menu">
          <ul class="vinh-menu-list">
            <li class="vinh-drop-down">
              <a class="vinh-menu-style" href="/home">Home</a>
            </li>
            <li class="vinh-drop-down">
              <a class="vinh-menu-style" href="/frato">Furniture</a>
              <div class="vinh-drop-down-content vinh-furniture">
                <div class="vinh-drop-down-item">
                  <img src="static/Resources/Img/header-footer-img/hugo_noblanket_600x500.jpg">
                  <h3>Living Room</h3>
                  <ul>
                    <li><a href="/frato">Sofas</a></li>
                    <li><a href="/frato">Loveseats</a></li>
                    <li><a href="/frato">Sectionals</a></li>
                    <li><a href="/frato">Chairs & Chaises</a></li>
                    <li><a href="/frato">Sofa Beds & Futons</a></li>
                    <li><a href="/frato">Recliners</a></li>
                    <li><a href="/frato">Ottoman & Benches</a></li>
                    <li><a href="/frato">Cabinets & Etageres</a></li>
                    <li><a href="/frato">Living Room Packages</a></li>
                    <li><a href="/frato">3 Piece Sofa Set</a></li>
                  </ul>
                </div>
                <div class="vinh-drop-down-item">
                  <img src="static/Resources/Img/header-footer-img/juneau_dining_horizontal_600x.jpg">
                  <h3>Dining Room</h3>
                  <ul>
                    <li><a href="/frato">Dining Sets</a></li>
                    <li><a href="/frato">Chairs</a></li>
                    <li><a href="/frato">Benches</a></li>
                    <li><a href="/frato">Counter & Bar Stools</a></li>
                    <li><a href="/frato">Buffets & Sideboards</a></li>
                    <li><a href="/frato">China Cabinets & Curious</a></li>
                    <li><a href="/frato">Bars</a></li>
                    <li><a href="/frato">Modern Dining</a></li>
                    <li><a href="/frato">Custom Designed Table</a></li>
                    <li><a href="/frato">6 Seater Dining</a></li>
                  </ul>
                </div>
                <div class="vinh-drop-down-item">
                  <img src="static/Resources/Img/header-footer-img/juneau_bed_v1_600x.jpg">
                  <h3>Bed Room</h3>
                  <ul>
                    <li><a href="/frato">King Beds</a></li>
                    <li><a href="/frato">Queen Beds</a></li>
                    <li><a href="/frato">Full Beds</a></li>
                    <li><a href="/frato">Daybeds & Futons</a></li>
                    <li><a href="/frato">Headboards & Frames</a></li>
                    <li><a href="/frato">Dressers & Chests</a></li>
                    <li><a href="/frato">Mirros</a></li>
                    <li><a href="/frato">Nightstands</a></li>
                    <li><a href="/frato">Armoires</a></li>
                    <li><a href="/frato">Bedroom Sets</a></li>
                  </ul>
                </div>
              </div>
            </li>
            <li class="vinh-drop-down">
              <a class="vinh-menu-style" href="/brand">Brands</a>
              <div class="vinh-drop-down-content vinh-brand">
                <div class="vinh-drop-down-item">
                  <a href="/brand">Essential Home</a>
                </div>
                <div class="vinh-drop-down-item">
                  <a href="/brand">Frato</a>
                </div>
                <div class="vinh-drop-down-item">
                  <a href="/brand">Koket</a>
                </div>
                <div class="vinh-drop-down-item">
                  <a href="/brand">Erado</a>
                </div>
                <div class="vinh-drop-down-item">
                  <a href="/brand">Bentley Home</a>
                </div>
                <div class="vinh-drop-down-item">
                  <a href="/brand">Capellini</a>
                </div>
              </div>
            </li>
            <li class="vinh-drop-down">
              <a class="vinh-menu-style" href="/blog">Blog</a>
            </li>
            <li class="vinh-drop-down">
              <a class="vinh-menu-style" href="/contact-us">Contact us</a>
            </li>
          </ul>
        </div>
        <div class="vinh-inner-container">
          <ul class="vinh-icon-list">
            <li id="search-bar" class="collapsed">
              <div id="search-box">
                <div id="sliding-panel-outer">
                  <form th:action="@{/search}" method="get">
                    <div id="sliding-panel-inner">
                      <input type="text" id="search-input" th:value="${str}"
                             placeholder="Search..." name="str" required/>
                      <button type="submit"></button>
                    </div>
                  </form>
                  <!--#sliding-panel-inner-->
                </div>
                <!--#sliding-panel-outer-->

                <div class="search-label">
                  <i id="search-one" class="bi bi-search"></i>
                </div>
              </div>
              <!--#search-box-->
            </li>
            <!--#searchbar-->
            <li>
              <a href="wishlist.html"><i class="bi bi-heart"></i></a>
            </li>
            <li class="vinh-cart" style="position: relative;">
              <a href="/cart"><i class="bi bi-cart3"></i></a>
              <div class="vinh-cart-drop-down">
                <p>Your shopping cart (2 items)</p>
                <div style="margin: 15px 0;">
                  <div class="vinh-cart-item">
                    <figure class="vinh-promo-pic">
                      <img class="vinh-pic"
                        src="static/Resources/Img/product-cart-wish-img/frato-metal-classic-out-door-dining-chair-(1).jpg" />
                    </figure>
                    <span>Frato Metal Classic Out Door Dining Chair</span>
                    <span>1 x $83.00</span>
                    <i class="bi bi-x-circle"></i>
                  </div>
                  <div class="vinh-cart-item">
                    <figure class="vinh-promo-pic">
                      <img class="vinh-pic"
                        src="static/Resources/Img/product-cart-wish-img/rattan-modern-dining-chair-(13).jpg" />
                    </figure>
                    <span>Frato Rattan Modern Dining Chair</span>
                    <span>1 x $38.00</span>
                    <i class="bi bi-x-circle"></i>
                  </div>
                  <div class="subtotal">
                    <p>Cart Subtotal:</p>
                    <p>$121.00</p>
                  </div>
                </div>

                <div style="display: flex; justify-content: space-between;">
                  <a class="vinh-button" href="/cart">View Cart</a>
                  <a class="vinh-button" href="/checkout">Check Out</a>
                </div>
              </div>
            </li>
            <li><a th:href="${userLink}" th:text="${userStatus}">Log in</a></li>
            <li><a th:href="${loginLink}" th:text="${loginStatus}">Log in</a></li>
          </ul>
        </div>
      </div>
      <div id="myDropdown" class="vinh-sub-menu-dropdown">
        <ul>
          <li><a href="http://durablefurniture.github.io" style="color:#6CB975 !important">home</a></li>
          <li><a href="/frato">furniture</a></li>
          <li><a href="/frato">brand</a></li>
          <li><a href="/blog">blog</a></li>
          <li><a href="/contact-us">contact</a></li>
          <li>
            <input class="vinh-sub-menu-search" type="text" placeholder="Search...">
            <button class="vinh-search-button" type="submit">Search</button>
          </li>
        </ul>
      </div>
    </header>

    <div class="vinh-outer-wrap">
      <form class="vinh-checkout-container" id="myForm" th:action="@{/save}" th:object="${order}" method="post">
        <div class="vinh-checkout-detail">
          <a href="#">Home page</a> > <a href="#">Cart</a> > <a href="#">Check out</a>
          <h2 style="margin-top: 20px;">BILLING DETAILS</h2>
          <div class="vinh-info-grid">
            <input class="billing-info" style="grid-column: span 2;" type="email" maxlength="50"
              placeholder="Email address" required>
<!--            <input class="billing-info" type="text" placeholder="First Name" maxlength="50" required>-->
            <input class="billing-info" style="grid-column: span 2;" type="text" th:field="*{receiver}" placeholder="Full Name" maxlength="50" required>
            <input class="billing-info" style="grid-column: span 2;" type="text" th:field="*{address}" maxlength="150" placeholder="Address"
              required>
            <input class="billing-info" style="grid-column: span 2;" type="text" maxlength="100"
              placeholder="Apartment, suite, etc. (optional)">
            <input class="billing-info" type="text" placeholder="City" maxlength="50" required>
            <input class="billing-info" type="text" placeholder="Province" maxlength="50" required>
            <input class="billing-info" type="text" placeholder="Country" maxlength="50" required>
            <input class="billing-info" type="text" maxlength="8" placeholder="Zip Code">
            <input class="billing-info" style="grid-column: span 2;" type="text" th:field="*{phone}" maxlength="10"
              placeholder="Phone Number">
            <select class="billing-info" th:name="payment_method" style="grid-column: span 2;">
              <option th:each="paymentt : ${listPayments}"
                      th:value="${paymentt.id}" th:text="${paymentt.name}"></option>
            </select>
          </div>
          <input type="checkbox" style="margin: 15px 10px 0 0;"><span>Subcribe to our newsletter</span>
        </div>
        <div class="vinh-checkout-order">
          <h2>YOUR ORDER</h2>
          <div class="vinh-flex" style="border-bottom: 2px solid #bebebe">
            <h3>Product</h3>
            <h3>Subtotal</h3>
          </div>
          <div class="vinh-order-item vinh-flex" th:each="cart:${listCarts}">
            <div style="display: flex;">
              <figure class="vinh-promo-pic">
                <img class="vinh-pic"
                  th:src="@{${cart.getPathImage()}}">
              </figure>
              <span th:text="${cart.getName()}">Product Name</span>
            </div>
            <span th:text="${cart.getPrice()} * ${cart.getQuantity()}">Price*Quantity</span>
          </div>
          <div class="vinh-flex" style="padding-top: 10px;">
            <input style="width: 70%; padding: 15px 10px; border: 1px solid #bebebe; font-size: 100%;" maxlength="10"
              placeholder="Enter your coupon here" name="fname" id="coupon">
            <input type="button" value="Apply" class="coupon-btn" onclick="validateForm()">
          </div>
          <div class="vinh-flex vinh-border">
            <p>Subtotal:</p>
            <p th:text="${totalPricee}*1"></p>
          </div>
          <div class="vinh-flex vinh-border">
            <p>Shipping:</p>
            <p>+ 00.00</p>
          </div>
          <div class="vinh-flex vinh-border">
            <p>Coupon Applied:</p>
            <p id="couponApply">- 00.00</p>
          </div>
          <div class="vinh-flex vinh-border" style="border-bottom: 2px solid #bebebe; ">
            <p style="color: red !important;">Total:</p>
            <p style="color: red !important;" id="totalOrder" th:text="${totalPricee}*1">$81.40</p>  <!--ok-->
            <input type="hidden" th:id="hidePrice" th:name="orderPrice" th:value="${totalPricee}">
          </div>
          <div style="margin-top: 20px;">
            <input type="checkbox">
            <span style="color: black; font-size: 90%;">I have read and agree to the website terms and conditions
              *</span>
          </div>
          <input type="submit" class="vinh-order-btn" value="Place Order">
        </div>
      </form>
    </div>

    <div id="hong-scroll-top-btn" onclick="hongScrollTop()">
      <i class="fas fa-chevron-up"></i>
    </div>
    <div class="vinh-container-footer"></div>
    <footer>
      <div class="ft-social vinh-info">
        <div class="ft-main-item">
          <h3 class="ft-title">About the company</h3>
          <ul>
            <li><a href="/about-us">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Affiliates</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Investor Ralations</a></li>
          </ul>
        </div>
        <div class="ft-main-item">
          <h3 class="ft-title">Customer Service</h3>
          <ul>
            <li><a href="/faq">FAQ</a></li>
            <li><a href="/faq">Help Center</a></li>
            <li><a href="#">Shopping Guide</a></li>
            <li><a href="#">Shipping</a></li>
            <li><a href="mailto:vinhtb.jp@gmail.com">Email us</a></li>
          </ul>
        </div>
        <div class="ft-main-item">
          <h3 class="ft-title">Site Terms</h3>
          <ul>
            <li><a href="#">Sitemap</a></li>
            <li><a href="#">Terms of Use</a></li>
            <li><a href="#">Terms of Sale</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Shop Glossary</a></li>
          </ul>
        </div>
        <div class="ft-main-item">
          <h3 class="ft-title">Newsletter Subcribe</h3>
          <p style="margin-top: 10px;">Get 5% OFF when you signup for<br>our email newsletter!</p>
          <div class="vinh-newsletter">
            <form>
              <input class="vinh-newsletter-input" type="email" name="email">
            </form>
            <i class="bi bi-envelope"></i>
          </div>
        </div>
      </div>
      <div class="ft-social-container">
        <div class="ft-social vinh-sns">
          <span>&copy; 2021 Durable Furninure. All rights reserved</span>
          <div class="vinh-sns-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-tumblr"></i></a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-migrate-3.3.2.min.js"
    integrity="sha256-Ap4KLoCf1rXb52q+i3p0k2vjBsmownyBTE1EqlRiMwA=" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/957c836d53.js" crossorigin="anonymous"></script>

  <script>
    $('#search-bar .search-label').on('click', function (e) {
      e.preventDefault();
      $('#search-bar').toggleClass('collapsed');
    });

    function subMenuFunction() {
      document.getElementById('myDropdown').classList.add('vinh-show')
    }

    window.onclick = function (event) {
      if (!event.target.matches('.bi-list')) {
        var dropdowns = document.getElementsByClassName('vinh-sub-menu-dropdown');
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('vinh-show')) {
            openDropdown.classList.remove('vinh-show');
          }
        }
      }
    }

    document.getElementById("myIcon").onclick = function () {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    };

    window.onscroll = function () { myFunction() };

    var navbar = document.getElementById("navbar");
    var sticky = navbar.offsetTop;

    hScrollTopBtn = document.getElementById("hong-scroll-top-btn");

    function myFunction() {
      if (window.pageYOffset >= sticky) {
        navbar.classList.add("vinh-sticky")
      } else {
        navbar.classList.remove("vinh-sticky");
      }

      if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
        hScrollTopBtn.style.display = "block";
      } else {
        hScrollTopBtn.style.display = "none";
      }
    }

    function hongScrollTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    };

    function validateForm() {
      let x = document.forms["myForm"]["fname"].value;
      let y = document.getElementById("coupon");
      if (x == "") {
        alert("Please enter valid coupon!");
        document.getElementById("coupon").focus();
        return false;
      }else{
          $.ajax({
            type: "POST",
            url: "/checkSale",
            data: {'coupon':x},
            success: function (nal){
              console.log(nal);
              if(nal.status == 0){
                document.getElementById("couponApply").innerText = "- " + nal.priceReduce * 1;
                document.getElementById("totalOrder").innerText = "$" + nal.totalReduce * 1;
                $(document).find('#hidePrice').val(nal.totalReduce*1);
                alert("Mã coupon không tồn tại!");
              }else{
                document.getElementById("couponApply").innerText = "- " + nal.priceReduce * 1;
                document.getElementById("totalOrder").innerText = "$" + nal.totalReduce * 1;
                $(document).find('#hidePrice').val(nal.totalReduce*1);
              }
            }
          });
      }
    }
  </script>

</body>

</html>